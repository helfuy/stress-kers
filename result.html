<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞</title>
    <link rel="stylesheet" href="result.css"> <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ -->
</head>
<body>
    <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞</h1>
    <div class="result" id="result">
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
    </div>
    <div class="animation-container">
        <img id="emotionImage" src="" alt="Emotion Image" class="emotion">
    </div>
    <a href="index.html" class="button-finish">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</a>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const answers = JSON.parse(localStorage.getItem('stressAnswers')) || [];
        const resultDiv = document.getElementById('result');
        const emotionImage = document.getElementById('emotionImage');

        // –ü–æ–¥—Å—á—ë—Ç –æ—Ç–≤–µ—Ç–æ–≤
        const analyzeCount = answers.filter(ans => ans === 'analyze').length;
        const anxietyCount = answers.filter(ans => ans === 'anxiety').length;
        const isolateCount = answers.filter(ans => ans === 'isolate').length;

        // –õ–æ–≥–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let resultText = '';
        if (analyzeCount > anxietyCount && analyzeCount > isolateCount) {
            resultText = '–í–∞—à —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –≤—ã—Å–æ–∫–∏–π! üéâ –í—ã —É–º–µ–µ—Ç–µ —Å–ø–æ–∫–æ–π–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏.';
            emotionImage.src = 'media/img/happy.png'; // –í–µ—Å—ë–ª—ã–π
            emotionImage.classList.add('happy-animation');
        } else if (anxietyCount > analyzeCount && anxietyCount > isolateCount) {
            resultText = '–í–∞—à —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å—Ä–µ–¥–Ω–∏–π. üòê –ò–Ω–æ–≥–¥–∞ –≤—ã –±–µ—Å–ø–æ–∫–æ–∏—Ç–µ—Å—å, –Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å.';
            emotionImage.src = 'media/img/serious.png'; // –°–µ—Ä—å—ë–∑–Ω—ã–π
            emotionImage.classList.add('serious-animation');
        } else {
            resultText = '–í–∞—à —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –Ω–∏–∑–∫–∏–π. üò¢ –ß–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å—Ç—Ä–µ—Å—Å –∏ –∑–∞–º—ã–∫–∞–µ—Ç–µ—Å—å –≤ —Å–µ–±–µ.';
            emotionImage.src = 'media/img/sad.png'; // –ì—Ä—É—Å—Ç–Ω—ã–π
            emotionImage.classList.add('sad-animation');
        }

        resultDiv.textContent = resultText;

        // –û—á–∏—Å—Ç–∫–∞ localStorage
        localStorage.removeItem('stressAnswers');
    });
    </script>
</body>
</html>
